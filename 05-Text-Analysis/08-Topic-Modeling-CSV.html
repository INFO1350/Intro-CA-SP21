
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Topic Modeling — CSV Files &#8212; Introduction to Cultural Analytics &amp; Python</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/custom.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://melaniewalsh.github.io/Intro-Cultural-Analytics/05-Text-Analysis/08-Topic-Modeling-CSV.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Topic Modeling — Time Series" href="09-Topic-Modeling-Time-Series.html" />
    <link rel="prev" title="Topic Modeling — Text Files" href="07-Topic-Modeling-Text-Files.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="https://melaniewalsh.github.io/Intro-Cultural-Analytics/05-Text-Analysis/08-Topic-Modeling-CSV.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Topic Modeling — CSV Files" />
<meta property="og:description" content="Topic Modeling — CSV Files  In these lessons, we’re learning about a text analysis method called topic modeling. This method will help us identify the main topi" />
<meta property="og:image"       content="https://melaniewalsh.github.io/Intro-Cultural-Analytics/_static/favicon.ico" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/favicon.ico" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Introduction to Cultural Analytics & Python</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  How To
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../How-To-Interact-With-This-Book.html">
   Interact With This Book
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  The Course
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../course-schedule-2021.html">
   Course Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus.html">
   Course Syllabus
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  The Book
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-Command-Line/01-The-Command-Line.html">
   1. The Command Line
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../02-Python/00-Python.html">
   2. Python Basics
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/01-Installation.html">
     Installation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/02-How-to-Use-Jupyter-Notebooks.html">
     How to Use Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/03-Anatomy-Python-Script.html">
     Anatomy of a Python Script
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/04-Variables.html">
     Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/05-Data-Types.html">
     Data Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/06-String-Methods.html">
     String Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/07-Files-Character-Encoding.html">
     Files and Character Encoding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/08-Comparisons-Conditionals.html">
     Comparisons &amp; Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/09-Lists-Loops-Part1.html">
     Lists &amp; Loops — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/10-Lists-Loops-Part2.html">
     Lists &amp; Loops — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/11-Dictionaries.html">
     Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/12-Functions.html">
     Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/13-Common-Python-Errors.html">
     Common Python Errors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-Python/14-What-Were-Not-Covering.html">
     What We’re Not Covering
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../03-Data-Analysis/00-Data-Analysis.html">
   3. Data Analysis (Pandas)
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/01-Pandas-Basics-Part1.html">
     Pandas Basics — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/02-Pandas-Basics-Part2.html">
     Pandas Basics — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/03-Pandas-Basics-Part3.html">
     Pandas Basics — Part 3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03-Data-Analysis/04-Pandas-Merge-Datasets.html">
     Pandas — Merge Datasets
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../04-Data-Collection/00-Data-Collection.html">
   4. Data Collection (Web Scraping, APIs)
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Data-Collection/01-User-Ethics-Legal-Concerns.html">
     User Ethics &amp; Legal Concerns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Data-Collection/02-Web-Scraping-Part1.html">
     Web Scraping — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Data-Collection/03-Web-Scraping-Part2.html">
     Web Scraping — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Data-Collection/04-Git-GitHub.html">
     Git and GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Data-Collection/05-APIs.html">
     Application Programming Interfaces (APIs)
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../04-Data-Collection/06-Song-Genius-Data-Collection.html">
     Song Genius Data Collection
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../04-Data-Collection/07-Genius-API.html">
       Song Genius API
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04-Data-Collection/08-LyricsGenius.html">
       Song Lyrics Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04-Data-Collection/09-Song-Lyrics-Analysis.html">
       Song Lyrics Analysis
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../04-Data-Collection/10-Twitter-Data-Collection-Home.html">
     Twitter Data Collection
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../04-Data-Collection/11-Twitter-API-Setup.html">
       Twitter API Setup
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04-Data-Collection/12-Twitter-Data-Collection.html">
       Twitter Data Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04-Data-Collection/13-Twitter-Data-Analysis.html">
       Twitter Data Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04-Data-Collection/14-Twitter-Data-Sharing.html">
       Twitter Data Sharing
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Data-Collection/15-Reddit-Data-Collection-With-PSAW.html">
     Reddit Data Collection
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="00-Text-Analysis.html">
   5. Text Analysis
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="01-TF-IDF.html">
     TF-IDF
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="02-TF-IDF-HathiTrust.html">
       TF-IDF with HathiTrust Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="03-TF-IDF-Scikit-Learn.html">
       TF-IDF with Scikit-Learn
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 current active collapsible-parent">
    <a class="reference internal" href="04-Topic-Modeling.html">
     Topic Modeling
    </a>
    <ul class="current collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="05-Topic-Modeling-Overview.html">
       Topic Modeling — Overview
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="06-Topic-Modeling-Set-Up.html">
       Topic Modeling — Set Up
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="07-Topic-Modeling-Text-Files.html">
       Topic Modeling — Text Files
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Topic Modeling — CSV Files
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="09-Topic-Modeling-Time-Series.html">
       Topic Modeling — Time Series
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10-Named-Entity-Recognition.html">
     Named Entity Recognition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-POS-Keywords.html">
     Part-of-Speech Tagging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-POS-Keywords.html#keyword-extraction">
     Keyword Extraction
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../06-Network-Analysis/00-Network-Analysis-Home.html">
   6. Network Analysis
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../06-Network-Analysis/01-Network-Analysis.html">
     Network Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-Network-Analysis/02-Making-Network-Viz-with-Bokeh.html">
     Make an Interactive Network Visualization
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../07-Mapping/01-Mapping-Home.html">
   7. Mapping
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../07-Mapping/02-Mapping.html">
     Mapping
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-Mapping/02-Mapping.html#geocoding-with-geopy">
     Geocoding with GeoPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-Mapping/02-Mapping.html#making-interactive-maps">
     Making Interactive Maps
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-Mapping/03-Custom-Maps.html">
     Custom Map Backgrounds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-Mapping/04-Publish-Your-Map.html">
     Publish Your Map on the Web
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Datasets
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-Datasets/Datasets.html">
   Datasets
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Extra Materials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../02-Python/EXTRA-Jupyter-Tips-Tricks.html">
   Jupyter Tips and Tricks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-Python/EXTRA-Randomize-Students.html">
   Make Random Student Groups
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/05-Text-Analysis/08-Topic-Modeling-CSV.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/INFO1350/Intro-CA-SP21"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/INFO1350/Intro-CA-SP21/issues/new?title=Issue%20on%20page%20%2F05-Text-Analysis/08-Topic-Modeling-CSV.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/INFO1350/Intro-CA-SP21/master?urlpath=lab/tree/book/05-Text-Analysis/08-Topic-Modeling-CSV.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset">
   Dataset
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#am-i-the-asshole">
     Am I the Asshole?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-mallet-path">
   Set MALLET Path
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install-packages">
   Install Packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-packages">
   Import Packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#get-training-data-from-csv-file">
   Get Training Data From CSV File
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#process-reddit-posts">
     Process Reddit Posts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#process-reddit-post-titles">
     Process Reddit Post Titles
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#get-dataset-statistics">
     Get Dataset Statistics
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#training-the-topic-model">
   Training the Topic Model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-number-of-topics">
   Set Number of Topics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-training-data">
   Set Training Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-other-mallet-file-paths">
   Set Other MALLET File Paths
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-data">
   Import Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#train-topic-model">
   Train Topic Model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#display-topics-and-top-words">
   Display Topics and Top Words
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-topic-distributions">
   Load Topic Distributions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#explore-heatmap-of-topics-and-texts">
   Explore Heatmap of Topics and Texts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#display-top-titles-per-topic">
   Display Top Titles Per Topic
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#display-topic-words-in-context-of-original-text">
   Display Topic Words in Context of Original Text
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="topic-modeling-csv-files">
<h1>Topic Modeling — CSV Files<a class="headerlink" href="#topic-modeling-csv-files" title="Permalink to this headline">¶</a></h1>
<p>In these lessons, we’re learning about a text analysis method called <em>topic modeling</em>. This method will help us identify the main topics or discourses within a collection of texts a single text that has been separated into smaller text chunks.</p>
<hr class="docutils" />
<div class="section" id="dataset">
<h2>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h2>
<div class="section" id="am-i-the-asshole">
<h3>Am I the Asshole?<a class="headerlink" href="#am-i-the-asshole" title="Permalink to this headline">¶</a></h3>
<blockquote class="epigraph">
<div><p>AITA for lying about my biggest fear on a quiz show and subsequently winning a car and making other contestants lose?</p>
<p class="attribution">—Reddit user iwonacar, <a class="reference external" href="https://www.reddit.com/r/AmItheAsshole/comments/dmfsum/aita_for_lying_about_my_biggest_fear_on_a_quiz/">r/AmItheAsshole</a></p>
</div></blockquote>
<p>In this particular lesson, we’re going to use <a class="reference external" href="https://github.com/maria-antoniak/little-mallet-wrapper">Little MALLET Wrapper</a>, a Python wrapper for <a class="reference external" href="http://mallet.cs.umass.edu/topics.php">MALLET</a>, to topic model a CSV file with 2,932 Reddit posts from the subreddit <a class="reference external" href="https://www.reddit.com/r/AmItheAsshole/">r/AmITheAsshole</a> that have at least an upvote score of 2,000. This is an online forum where people share their personal conflicts and ask the community to judge who’s the a**hole in the story. This data was collected with PSAW, a wrapper for the Pushshift API.</p>
<hr class="docutils" />
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If you’re working in this Jupyter notebook on your own computer, you’ll need to have both the Java Development Kit and MALLET pre-installed. For set up instructions, please see <a class="reference external" href="http://melaniewalsh.github.io/Intro-Cultural-Analytics/Text-Analysis/Topic-Modeling-Set-Up.html">the previous lesson</a>.</p>
<p>*If you’re working in this Jupyter notebook in the cloud via Binder, then the Java Development Kit and Mallet will already be installed. You’re good to go!</p>
</div>
</div>
</div>
<div class="section" id="set-mallet-path">
<h2>Set MALLET Path<a class="headerlink" href="#set-mallet-path" title="Permalink to this headline">¶</a></h2>
<p>Since Little MALLET Wrapper is a Python package built around MALLET, we first need to tell it where the bigger, Java-based MALLET lives.</p>
<p>We’re going to make a variable called <code class="docutils literal notranslate"><span class="pre">path_to_mallet</span></code> and assign it the file path of our MALLET program. We need to point it, specifically, to the “mallet” file inside the “bin” folder inside the “mallet-2.0.8” folder.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">path_to_mallet</span> <span class="o">=</span> <span class="s1">&#39;mallet-2.0.8/bin/mallet&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>If MALLET is located in another directory, then set your <code class="docutils literal notranslate"><span class="pre">path_to_mallet</span></code> to that file path.</p>
</div>
<div class="section" id="install-packages">
<h2>Install Packages<a class="headerlink" href="#install-packages" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!pip install little_mallet_wrapper</span>
<span class="c1">#!pip install seaborn</span>
<span class="c1">#To install the most updated version of little_mallet_wrapper:</span>
<span class="c1">#!!pip install git+https://github.com/maria-antoniak/little-mallet-wrapper.git</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="import-packages">
<h2>Import Packages<a class="headerlink" href="#import-packages" title="Permalink to this headline">¶</a></h2>
<p>Now let’s <code class="docutils literal notranslate"><span class="pre">import</span></code> the <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper</span></code> and the data viz library <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">little_mallet_wrapper</span>
<span class="kn">import</span> <span class="nn">seaborn</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
</div>
<p>We’re also going to import <a class="reference external" href="https://docs.python.org/3/library/glob.html"><code class="docutils literal notranslate"><span class="pre">glob</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#basic-use"><code class="docutils literal notranslate"><span class="pre">pathlib</span></code></a> for working with files and the file system.</p>
</div>
<div class="section" id="get-training-data-from-csv-file">
<h2>Get Training Data From CSV File<a class="headerlink" href="#get-training-data-from-csv-file" title="Permalink to this headline">¶</a></h2>
<p>Before we topic model the Reddit posts, we need to process the posts and prepare them for analysis. The steps below demonstrate how to process texts if they come from a CSV file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We’re calling these text files our <em>training data</em>, because we’re <em>training</em> our topic model with these texts. The topic model will be learning and extracting topics based on these texts.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reddit_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../data/top-reddit-aita-posts.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reddit_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>author</th>
      <th>full_date</th>
      <th>date</th>
      <th>title</th>
      <th>selftext</th>
      <th>url</th>
      <th>subreddit</th>
      <th>upvote_score</th>
      <th>num_comments</th>
      <th>num_crossposts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Additional-Pizza-805</td>
      <td>2020-07-24 19:13:49+00:00</td>
      <td>2020-07-24</td>
      <td>AITA for kicking my cousin off of my sister’s wedding Zoom call?</td>
      <td>My [27M] older sister [30F] and her fiancé [31M] were planning for over a year for their wedding...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hx80wd/aita_for_kicking_my_cousin_off_of_my_sist...</td>
      <td>AmItheAsshole</td>
      <td>11159</td>
      <td>2209</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>decadel8ter</td>
      <td>2020-07-24 14:37:13+00:00</td>
      <td>2020-07-24</td>
      <td>AITA for resenting my family for something that happened over a decade ago?</td>
      <td>when i was 15 i was in a car accident. i was riding my bike on new bike lanes that my city had i...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hx2vvl/aita_for_resenting_my_family_for_somethin...</td>
      <td>AmItheAsshole</td>
      <td>2541</td>
      <td>1143</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Snoo_66130</td>
      <td>2020-07-24 12:35:35+00:00</td>
      <td>2020-07-24</td>
      <td>AITA for telling my step dad to stop trying to be my dad?</td>
      <td>I'm   35, and my mom who is 52 is dating a man who is is 27. This is fucking   weird as hell and...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hx0zk7/aita_for_telling_my_step_dad_to_stop_tryi...</td>
      <td>AmItheAsshole</td>
      <td>2809</td>
      <td>1253</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ohnoihaveabluechair</td>
      <td>2020-07-24 10:56:56+00:00</td>
      <td>2020-07-24</td>
      <td>AITA for confronting my SIL for wearing clothes that belonged to me?</td>
      <td>Some info: A few years ago, my family didn’t have a lot of spare money to buy a lot of things (l...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hwzpbu/aita_for_confronting_my_sil_for_wearing_c...</td>
      <td>AmItheAsshole</td>
      <td>7581</td>
      <td>1550</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>FormalLettuce3</td>
      <td>2020-07-24 10:52:08+00:00</td>
      <td>2020-07-24</td>
      <td>AITA for saying we'd only help with my ex's kid's party if we could tell people we're engaged?</td>
      <td>This guy, "Jack", and I were together for about a year, and within a couple weeks of ending it I...</td>
      <td>https://www.reddit.com/r/AmItheAsshole/comments/hwzncq/aita_for_saying_wed_only_help_with_my_exs...</td>
      <td>AmItheAsshole</td>
      <td>2915</td>
      <td>1214</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reddit_df</span><span class="p">[</span><span class="s1">&#39;selftext&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reddit_df</span><span class="p">[</span><span class="s1">&#39;selftext&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="process-reddit-posts">
<h3>Process Reddit Posts<a class="headerlink" href="#process-reddit-posts" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.process_string(text,</span> <span class="pre">numbers='remove')</span></code></p>
<p>Next we’re going to process our texts with the function <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.process_string()</span></code>. This function will take every individual post, transform all the text to lowercase as well as remove stopwords, punctuation, and numbers, and then add the processed text to our master list <code class="docutils literal notranslate"><span class="pre">training_data</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">process_string</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">numbers</span><span class="o">=</span><span class="s1">&#39;remove&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">reddit_df</span><span class="p">[</span><span class="s1">&#39;selftext&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">original_texts</span> <span class="o">=</span> <span class="p">[</span><span class="n">text</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">reddit_df</span><span class="p">[</span><span class="s1">&#39;selftext&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="process-reddit-post-titles">
<h3>Process Reddit Post Titles<a class="headerlink" href="#process-reddit-post-titles" title="Permalink to this headline">¶</a></h3>
<p>We’re also going to extract the file name for each Reddit post.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reddit_titles</span> <span class="o">=</span> <span class="p">[</span><span class="n">title</span> <span class="k">for</span> <span class="n">title</span> <span class="ow">in</span> <span class="n">reddit_df</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="get-dataset-statistics">
<h3>Get Dataset Statistics<a class="headerlink" href="#get-dataset-statistics" title="Permalink to this headline">¶</a></h3>
<p>We can get training data summary statisitcs by using the funciton <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.print_dataset_stats()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">print_dataset_stats</span><span class="p">(</span><span class="n">training_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of Documents: 2932
Mean Number of Words per Document: 147.5
Vocabulary Size: 18729
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="training-the-topic-model">
<h2>Training the Topic Model<a class="headerlink" href="#training-the-topic-model" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.train_topic_model(path_to_mallet,</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">path_to_formatted_training_data,</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">path_to_model,</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">path_to_topic_keys,</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">path_to_topic_distributions,</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">num_topics)</span></code></p>
<p>We’re going to train our topic model with the <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.train_topic_model()</span></code> function. As you can see above, however, this function requires 6 different arguments and file paths to run properly:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">path_to_mallet</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path_to_formatted_training_data</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path_to_model</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path_to_topic_keys</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path_to_topic_distributions</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_topics</span></code></p></li>
</ul>
<p>So we have to set a few things up first.</p>
</div>
<div class="section" id="set-number-of-topics">
<h2>Set Number of Topics<a class="headerlink" href="#set-number-of-topics" title="Permalink to this headline">¶</a></h2>
<p>We need to make a variable <code class="docutils literal notranslate"><span class="pre">num_topics</span></code> and assign it the number of topics we want returned.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_topics</span> <span class="o">=</span> <span class="mi">15</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="set-training-data">
<h2>Set Training Data<a class="headerlink" href="#set-training-data" title="Permalink to this headline">¶</a></h2>
<p>We already made a variable called <code class="docutils literal notranslate"><span class="pre">training_data</span></code>, which includes all of our processed Reddit post texts, so we can just set it equal to itself.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training_data</span> <span class="o">=</span> <span class="n">training_data</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="set-other-mallet-file-paths">
<h2>Set Other MALLET File Paths<a class="headerlink" href="#set-other-mallet-file-paths" title="Permalink to this headline">¶</a></h2>
<p>Then we’re going to set a file path where we want all our MALLET topic modeling data to be dumped. I’m going to output everything onto my Desktop inside a folder called “topic-model-output” and a subfolder specific to the Reddit posts called “Reddit.”</p>
<p>All the other necessary variables below <code class="docutils literal notranslate"><span class="pre">output_directory_path</span></code> will be automatically created inside this directory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Change to your desired output directory</span>
<span class="n">output_directory_path</span> <span class="o">=</span> <span class="s1">&#39;topic-model-output/reddit&#39;</span>

<span class="c1">#No need to change anything below here</span>
<span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output_directory_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">path_to_training_data</span>           <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output_directory_path</span><span class="si">}</span><span class="s2">/training.txt&quot;</span>
<span class="n">path_to_formatted_training_data</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output_directory_path</span><span class="si">}</span><span class="s2">/mallet.training&quot;</span>
<span class="n">path_to_model</span>                   <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output_directory_path</span><span class="si">}</span><span class="s2">/mallet.model.</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">num_topics</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="n">path_to_topic_keys</span>              <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output_directory_path</span><span class="si">}</span><span class="s2">/mallet.topic_keys.</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">num_topics</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="n">path_to_topic_distributions</span>     <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output_directory_path</span><span class="si">}</span><span class="s2">/mallet.topic_distributions.</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">num_topics</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="import-data">
<h2>Import Data<a class="headerlink" href="#import-data" title="Permalink to this headline">¶</a></h2>
<p>We’re going to import the data with <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.import_data()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">path_to_mallet</span><span class="p">,</span>
                <span class="n">path_to_training_data</span><span class="p">,</span>
                <span class="n">path_to_formatted_training_data</span><span class="p">,</span>
                <span class="n">training_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Importing data...
Complete
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="train-topic-model">
<h2>Train Topic Model<a class="headerlink" href="#train-topic-model" title="Permalink to this headline">¶</a></h2>
<p>Then we’re going to train our topic model with <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.train_topic_model()</span></code>. The topic model should take about 1-1.5 minutes to train and complete.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">train_topic_model</span><span class="p">(</span><span class="n">path_to_mallet</span><span class="p">,</span>
                      <span class="n">path_to_formatted_training_data</span><span class="p">,</span>
                      <span class="n">path_to_model</span><span class="p">,</span>
                      <span class="n">path_to_topic_keys</span><span class="p">,</span>
                      <span class="n">path_to_topic_distributions</span><span class="p">,</span>
                      <span class="n">num_topics</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Training topic model...
Complete
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="display-topics-and-top-words">
<h2>Display Topics and Top Words<a class="headerlink" href="#display-topics-and-top-words" title="Permalink to this headline">¶</a></h2>
<p>To examine the 15 topics that the topic model extracted from the Reddit posts, run the cell below. This code uses the <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.load_topic_keys()</span></code> function to read and process the MALLET topic model output from your computer, specifically the file “mallet.topic_keys.15”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">topics</span> <span class="o">=</span> <span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">load_topic_keys</span><span class="p">(</span><span class="n">path_to_topic_keys</span><span class="p">)</span>

<span class="k">for</span> <span class="n">topic_number</span><span class="p">,</span> <span class="n">topic</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">topics</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✨Topic </span><span class="si">{</span><span class="n">topic_number</span><span class="si">}</span><span class="s2">✨</span><span class="se">\n\n</span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 0✨

[&#39;food&#39;, &#39;eat&#39;, &#39;said&#39;, &#39;eating&#39;, &#39;dinner&#39;, &#39;one&#39;, &#39;make&#39;, &#39;vegan&#39;, &#39;restaurant&#39;, &#39;table&#39;, &#39;cook&#39;, &#39;meat&#39;, &#39;meal&#39;, &#39;made&#39;, &#39;like&#39;, &#39;drink&#39;, &#39;cooking&#39;, &#39;order&#39;, &#39;home&#39;, &#39;something&#39;]

✨Topic 1✨

[&#39;like&#39;, &#39;time&#39;, &#39;get&#39;, &#39;doesn&#39;, &#39;want&#39;, &#39;feel&#39;, &#39;every&#39;, &#39;work&#39;, &#39;really&#39;, &#39;together&#39;, &#39;day&#39;, &#39;always&#39;, &#39;make&#39;, &#39;going&#39;, &#39;way&#39;, &#39;even&#39;, &#39;something&#39;, &#39;home&#39;, &#39;times&#39;, &#39;things&#39;]

✨Topic 2✨

[&#39;told&#39;, &#39;didn&#39;, &#39;said&#39;, &#39;got&#39;, &#39;went&#39;, &#39;friends&#39;, &#39;asked&#39;, &#39;wanted&#39;, &#39;going&#39;, &#39;ago&#39;, &#39;would&#39;, &#39;back&#39;, &#39;boyfriend&#39;, &#39;time&#39;, &#39;since&#39;, &#39;know&#39;, &#39;never&#39;, &#39;saying&#39;, &#39;wasn&#39;, &#39;started&#39;]

✨Topic 3✨

[&#39;house&#39;, &#39;room&#39;, &#39;dog&#39;, &#39;door&#39;, &#39;home&#39;, &#39;live&#39;, &#39;bathroom&#39;, &#39;get&#39;, &#39;apartment&#39;, &#39;one&#39;, &#39;would&#39;, &#39;use&#39;, &#39;back&#39;, &#39;living&#39;, &#39;place&#39;, &#39;roommate&#39;, &#39;sleep&#39;, &#39;bed&#39;, &#39;put&#39;, &#39;away&#39;]

✨Topic 4✨

[&#39;said&#39;, &#39;told&#39;, &#39;like&#39;, &#39;got&#39;, &#39;started&#39;, &#39;went&#39;, &#39;didn&#39;, &#39;asked&#39;, &#39;back&#39;, &#39;get&#39;, &#39;really&#39;, &#39;could&#39;, &#39;right&#39;, &#39;came&#39;, &#39;say&#39;, &#39;trying&#39;, &#39;help&#39;, &#39;even&#39;, &#39;took&#39;, &#39;know&#39;]

✨Topic 5✨

[&#39;money&#39;, &#39;pay&#39;, &#39;school&#39;, &#39;would&#39;, &#39;job&#39;, &#39;get&#39;, &#39;college&#39;, &#39;year&#39;, &#39;since&#39;, &#39;got&#39;, &#39;paying&#39;, &#39;also&#39;, &#39;much&#39;, &#39;paid&#39;, &#39;buy&#39;, &#39;could&#39;, &#39;help&#39;, &#39;month&#39;, &#39;give&#39;, &#39;even&#39;]

✨Topic 6✨

[&#39;wedding&#39;, &#39;party&#39;, &#39;would&#39;, &#39;birthday&#39;, &#39;one&#39;, &#39;day&#39;, &#39;family&#39;, &#39;said&#39;, &#39;want&#39;, &#39;get&#39;, &#39;dress&#39;, &#39;got&#39;, &#39;husband&#39;, &#39;married&#39;, &#39;wanted&#39;, &#39;gift&#39;, &#39;friends&#39;, &#39;asked&#39;, &#39;going&#39;, &#39;friend&#39;]

✨Topic 7✨

[&#39;said&#39;, &#39;like&#39;, &#39;really&#39;, &#39;friend&#39;, &#39;told&#39;, &#39;friends&#39;, &#39;girl&#39;, &#39;asked&#39;, &#39;people&#39;, &#39;girlfriend&#39;, &#39;got&#39;, &#39;one&#39;, &#39;guy&#39;, &#39;know&#39;, &#39;didn&#39;, &#39;think&#39;, &#39;thought&#39;, &#39;pretty&#39;, &#39;get&#39;, &#39;someone&#39;]

✨Topic 8✨

[&#39;would&#39;, &#39;years&#39;, &#39;wife&#39;, &#39;know&#39;, &#39;life&#39;, &#39;never&#39;, &#39;like&#39;, &#39;want&#39;, &#39;feel&#39;, &#39;much&#39;, &#39;things&#39;, &#39;time&#39;, &#39;think&#39;, &#39;love&#39;, &#39;really&#39;, &#39;way&#39;, &#39;asshole&#39;, &#39;make&#39;, &#39;still&#39;, &#39;relationship&#39;]

✨Topic 9✨

[&#39;name&#39;, &#39;first&#39;, &#39;people&#39;, &#39;think&#39;, &#39;know&#39;, &#39;last&#39;, &#39;speak&#39;, &#39;names&#39;, &#39;say&#39;, &#39;call&#39;, &#39;like&#39;, &#39;even&#39;, &#39;white&#39;, &#39;one&#39;, &#39;recently&#39;, &#39;aita&#39;, &#39;also&#39;, &#39;never&#39;, &#39;english&#39;, &#39;calling&#39;]

✨Topic 10✨

[&#39;sister&#39;, &#39;mom&#39;, &#39;family&#39;, &#39;parents&#39;, &#39;dad&#39;, &#39;brother&#39;, &#39;mother&#39;, &#39;told&#39;, &#39;years&#39;, &#39;father&#39;, &#39;didn&#39;, &#39;always&#39;, &#39;house&#39;, &#39;since&#39;, &#39;came&#39;, &#39;left&#39;, &#39;aunt&#39;, &#39;still&#39;, &#39;close&#39;, &#39;year&#39;]

✨Topic 11✨

[&#39;like&#39;, &#39;hair&#39;, &#39;people&#39;, &#39;look&#39;, &#39;weight&#39;, &#39;also&#39;, &#39;pictures&#39;, &#39;think&#39;, &#39;wear&#39;, &#39;see&#39;, &#39;wearing&#39;, &#39;make&#39;, &#39;body&#39;, &#39;looks&#39;, &#39;post&#39;, &#39;comments&#39;, &#39;would&#39;, &#39;doesn&#39;, &#39;long&#39;, &#39;bit&#39;]

✨Topic 12✨

[&#39;daughter&#39;, &#39;kids&#39;, &#39;son&#39;, &#39;wife&#39;, &#39;husband&#39;, &#39;baby&#39;, &#39;child&#39;, &#39;old&#39;, &#39;told&#39;, &#39;year&#39;, &#39;pregnant&#39;, &#39;children&#39;, &#39;would&#39;, &#39;mother&#39;, &#39;kid&#39;, &#39;want&#39;, &#39;two&#39;, &#39;father&#39;, &#39;said&#39;, &#39;school&#39;]

✨Topic 13✨

[&#39;work&#39;, &#39;one&#39;, &#39;day&#39;, &#39;people&#39;, &#39;said&#39;, &#39;time&#39;, &#39;job&#39;, &#39;back&#39;, &#39;office&#39;, &#39;would&#39;, &#39;everyone&#39;, &#39;manager&#39;, &#39;company&#39;, &#39;get&#39;, &#39;working&#39;, &#39;next&#39;, &#39;new&#39;, &#39;didn&#39;, &#39;boss&#39;, &#39;lunch&#39;]

✨Topic 14✨

[&#39;car&#39;, &#39;get&#39;, &#39;back&#39;, &#39;one&#39;, &#39;around&#39;, &#39;seat&#39;, &#39;could&#39;, &#39;way&#39;, &#39;minutes&#39;, &#39;front&#39;, &#39;sit&#39;, &#39;woman&#39;, &#39;would&#39;, &#39;next&#39;, &#39;got&#39;, &#39;says&#39;, &#39;two&#39;, &#39;people&#39;, &#39;away&#39;, &#39;guy&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-topic-distributions">
<h2>Load Topic Distributions<a class="headerlink" href="#load-topic-distributions" title="Permalink to this headline">¶</a></h2>
<p>MALLET also calculates the likely mixture of these topics for every single Reddit post in the corpus. This mixture is really a probability distribution, that is, the probability that each topic exists in the document. We can use these probability distributions to examine which of the above topics are strongly associated with which specific posts.</p>
<p>To get the topic distributions, we’re going to use the <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.load_topic_distributions()</span></code> function, which will read and process the MALLET topic model output, specifically the file “mallet.topic_distributions.15”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">topic_distributions</span> <span class="o">=</span> <span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">load_topic_distributions</span><span class="p">(</span><span class="n">path_to_topic_distributions</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">topic_distributions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.012152777777777778,
 0.06423611111111112,
 0.13194444444444445,
 0.006944444444444444,
 0.027777777777777776,
 0.017361111111111112,
 0.44965277777777773,
 0.06944444444444445,
 0.001736111111111111,
 0.03819444444444444,
 0.11631944444444443,
 0.001736111111111111,
 0.03298611111111111,
 0.001736111111111111,
 0.027777777777777776]
</pre></div>
</div>
</div>
</div>
<p>It’s a bit easier to understand if we pair these probabilities with the topics themselves. As you can see below, Topic 6 “family wedding party want birthday would” has a relatively high probability of existing in the Reddit post “AITA for not attending holiday gatherings?” <code class="docutils literal notranslate"><span class="pre">.124</span></code> while Topic 14 “dog cats dog house would take” has a relatively low probability <code class="docutils literal notranslate"><span class="pre">.006</span></code>.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reddit_post_to_check</span> <span class="o">=</span> <span class="s2">&quot;AITA for lying about my biggest fear on a quiz show and subsequently winning a car and making other contestants lose?&quot;</span>

<span class="n">reddit_post_number</span> <span class="o">=</span> <span class="n">reddit_titles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">reddit_post_to_check</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Topic Distributions for </span><span class="si">{</span><span class="n">reddit_titles</span><span class="p">[</span><span class="n">reddit_post_number</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">topic_number</span><span class="p">,</span> <span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">topic_distribution</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">topics</span><span class="p">,</span> <span class="n">topic_distributions</span><span class="p">[</span><span class="n">reddit_post_number</span><span class="p">])):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✨Topic </span><span class="si">{</span><span class="n">topic_number</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">topic</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span><span class="si">}</span><span class="s2"> ✨</span><span class="se">\n</span><span class="s2">Probability: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">topic_distribution</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Topic Distributions for AITA for lying about my biggest fear on a quiz show and subsequently winning a car and making other contestants lose?

✨Topic 0 [&#39;food&#39;, &#39;eat&#39;, &#39;said&#39;, &#39;eating&#39;, &#39;dinner&#39;, &#39;one&#39;] ✨
Probability: 0.002

✨Topic 1 [&#39;like&#39;, &#39;time&#39;, &#39;get&#39;, &#39;doesn&#39;, &#39;want&#39;, &#39;feel&#39;] ✨
Probability: 0.012

✨Topic 2 [&#39;told&#39;, &#39;didn&#39;, &#39;said&#39;, &#39;got&#39;, &#39;went&#39;, &#39;friends&#39;] ✨
Probability: 0.059

✨Topic 3 [&#39;house&#39;, &#39;room&#39;, &#39;dog&#39;, &#39;door&#39;, &#39;home&#39;, &#39;live&#39;] ✨
Probability: 0.112

✨Topic 4 [&#39;said&#39;, &#39;told&#39;, &#39;like&#39;, &#39;got&#39;, &#39;started&#39;, &#39;went&#39;] ✨
Probability: 0.059

✨Topic 5 [&#39;money&#39;, &#39;pay&#39;, &#39;school&#39;, &#39;would&#39;, &#39;job&#39;, &#39;get&#39;] ✨
Probability: 0.133

✨Topic 6 [&#39;wedding&#39;, &#39;party&#39;, &#39;would&#39;, &#39;birthday&#39;, &#39;one&#39;, &#39;day&#39;] ✨
Probability: 0.017

✨Topic 7 [&#39;said&#39;, &#39;like&#39;, &#39;really&#39;, &#39;friend&#39;, &#39;told&#39;, &#39;friends&#39;] ✨
Probability: 0.059

✨Topic 8 [&#39;would&#39;, &#39;years&#39;, &#39;wife&#39;, &#39;know&#39;, &#39;life&#39;, &#39;never&#39;] ✨
Probability: 0.18

✨Topic 9 [&#39;name&#39;, &#39;first&#39;, &#39;people&#39;, &#39;think&#39;, &#39;know&#39;, &#39;last&#39;] ✨
Probability: 0.028

✨Topic 10 [&#39;sister&#39;, &#39;mom&#39;, &#39;family&#39;, &#39;parents&#39;, &#39;dad&#39;, &#39;brother&#39;] ✨
Probability: 0.002

✨Topic 11 [&#39;like&#39;, &#39;hair&#39;, &#39;people&#39;, &#39;look&#39;, &#39;weight&#39;, &#39;also&#39;] ✨
Probability: 0.279

✨Topic 12 [&#39;daughter&#39;, &#39;kids&#39;, &#39;son&#39;, &#39;wife&#39;, &#39;husband&#39;, &#39;baby&#39;] ✨
Probability: 0.002

✨Topic 13 [&#39;work&#39;, &#39;one&#39;, &#39;day&#39;, &#39;people&#39;, &#39;said&#39;, &#39;time&#39;] ✨
Probability: 0.054

✨Topic 14 [&#39;car&#39;, &#39;get&#39;, &#39;back&#39;, &#39;one&#39;, &#39;around&#39;, &#39;seat&#39;] ✨
Probability: 0.002
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="explore-heatmap-of-topics-and-texts">
<h2>Explore Heatmap of Topics and Texts<a class="headerlink" href="#explore-heatmap-of-topics-and-texts" title="Permalink to this headline">¶</a></h2>
<p>We can visualize and compare these topic probability distributions with a heatmap by using the <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.plot_categories_by_topics_heatmap()</span></code> function.</p>
<p>We have everything we need for the heatmap except for our list of <code class="docutils literal notranslate"><span class="pre">target_labels</span></code>, the sample of texts that we’d like to visualize and compare with the heatmap. Below we make our list of desired target labels by randomly selecting 6 Reddit post titles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">target_labels</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">reddit_titles</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">plot_categories_by_topics_heatmap</span><span class="p">(</span><span class="n">reddit_titles</span><span class="p">,</span>
                                      <span class="n">topic_distributions</span><span class="p">,</span>
                                      <span class="n">topics</span><span class="p">,</span> 
                                      <span class="n">output_directory_path</span> <span class="o">+</span> <span class="s1">&#39;/categories_by_topics.pdf&#39;</span><span class="p">,</span>
                                      <span class="n">target_labels</span><span class="o">=</span><span class="n">target_labels</span><span class="p">,</span>
                                      <span class="n">dim</span><span class="o">=</span> <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
                                     <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/08-Topic-Modeling-CSV_65_0.png" src="../_images/08-Topic-Modeling-CSV_65_0.png" />
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">plot_categories_by_topics_heatmap()</span></code> function also helpfully outputs a PDF of the heatmap to <code class="docutils literal notranslate"><span class="pre">output_directory_path</span> <span class="pre">+</span> <span class="pre">'/categories_by_topics.pdf'</span></code>. We can download this PDF and explore it in more detail or embed it in an article or blog post!</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">IFrame</span>
<span class="n">IFrame</span><span class="p">(</span><span class="s2">&quot;topic-model-output/reddit/categories_by_topics.pdf&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="1000"
    height="600"
    src="topic-model-output/reddit/categories_by_topics.pdf"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
</div>
<div class="section" id="display-top-titles-per-topic">
<h2>Display Top Titles Per Topic<a class="headerlink" href="#display-top-titles-per-topic" title="Permalink to this headline">¶</a></h2>
<p>We can also display the Reddit posts and titles that have the highest probability for every topic with the <code class="docutils literal notranslate"><span class="pre">little_mallet_wrapper.get_top_docs()</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">training_data_reddit_titles</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">training_data</span><span class="p">,</span> <span class="n">reddit_titles</span><span class="p">))</span>
<span class="n">training_data_original_text</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">training_data</span><span class="p">,</span> <span class="n">original_texts</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>We’ll make our own function <code class="docutils literal notranslate"><span class="pre">display_top_titles_per_topic()</span></code> that will display the top Reddit post titles for every topic. This function accepts a given <code class="docutils literal notranslate"><span class="pre">topic_number</span></code> as well as a desired <code class="docutils literal notranslate"><span class="pre">number_of_documents</span></code> to display.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">display_top_titles_per_topic</span><span class="p">(</span><span class="n">topic_number</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">number_of_documents</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✨Topic </span><span class="si">{</span><span class="n">topic_number</span><span class="si">}</span><span class="s2">✨</span><span class="se">\n\n</span><span class="si">{</span><span class="n">topics</span><span class="p">[</span><span class="n">topic_number</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">probability</span><span class="p">,</span> <span class="n">document</span> <span class="ow">in</span> <span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">get_top_docs</span><span class="p">(</span><span class="n">training_data</span><span class="p">,</span> <span class="n">topic_distributions</span><span class="p">,</span> <span class="n">topic_number</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">number_of_documents</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">probability</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">training_data_reddit_titles</span><span class="p">[</span><span class="n">document</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Topic 0</strong></p>
<p>To display the top 5 Reddit post titles with the highest probability of containing Topic 0, we will run:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display_top_titles_per_topic</span><span class="p">(</span><span class="n">topic_number</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">number_of_documents</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 0✨

[&#39;years&#39;, &#39;wife&#39;, &#39;would&#39;, &#39;life&#39;, &#39;never&#39;, &#39;relationship&#39;, &#39;time&#39;, &#39;want&#39;, &#39;family&#39;, &#39;married&#39;, &#39;ago&#39;, &#39;last&#39;, &#39;know&#39;, &#39;love&#39;, &#39;like&#39;, &#39;together&#39;, &#39;two&#39;, &#39;things&#39;, &#39;even&#39;, &#39;much&#39;]

0.6275 AITA for leaving my three year old son after finding out he isn’t mine and my wife cheated on me?

0.5721 WIBTA if I left my SO while he is in prison?

0.5203 AITA for not allowing my ex-wife 50/50 custody of my daughter?

0.5044 WIBTA if I tell my bio daughter that I don&#39;t want to help her or have her in my life because she decided that her stepmom should adopt her once she turned 18?

0.4824 AITA for skipping my child&#39;s birth to see my dying father?
</pre></div>
</div>
</div>
</div>
<p><strong>Topic 0 Label</strong>:</p>
<p>Relationships (Double-click this cell to enter your own label)</p>
<p><strong>Topic 9</strong></p>
<p>To display the top 5 Reddit post titles with the highest probability of containing Topic 9, we will run:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display_top_titles_per_topic</span><span class="p">(</span><span class="n">topic_number</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">number_of_documents</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 9✨

[&#39;kids&#39;, &#39;son&#39;, &#39;daughter&#39;, &#39;husband&#39;, &#39;baby&#39;, &#39;wife&#39;, &#39;child&#39;, &#39;old&#39;, &#39;told&#39;, &#39;pregnant&#39;, &#39;year&#39;, &#39;children&#39;, &#39;kid&#39;, &#39;want&#39;, &#39;mother&#39;, &#39;would&#39;, &#39;said&#39;, &#39;think&#39;, &#39;father&#39;, &#39;asked&#39;]

0.5436 AITA for not caring when our baby is born?

0.5064 AITA for planning a vacation getaway for my two older kids as a thank you gift and leaving my third child with grandma when she contributing nothing?

0.484 AITA for telling my daughter that I will definitely report her to the CPS if she decides to move in with her drug addicted boyfriend?

0.4769 AITA for telling my kids stepmom she isn’t their mom.

0.4738 AITA for choosing my biological child over my foster son?
</pre></div>
</div>
</div>
</div>
<p><strong>Topic 9 Label</strong>:</p>
<p>Family (Double-click this cell to enter your own label)</p>
<p><strong>Topic 8</strong></p>
<p>To display the top 7 Reddit posts with the highest probability of containing Topic 8, we will run:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display_top_titles_per_topic</span><span class="p">(</span><span class="n">topic_number</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">number_of_documents</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 8✨

[&#39;money&#39;, &#39;pay&#39;, &#39;job&#39;, &#39;work&#39;, &#39;would&#39;, &#39;paid&#39;, &#39;get&#39;, &#39;got&#39;, &#39;told&#39;, &#39;paying&#39;, &#39;since&#39;, &#39;buy&#39;, &#39;new&#39;, &#39;time&#39;, &#39;house&#39;, &#39;could&#39;, &#39;year&#39;, &#39;car&#39;, &#39;bought&#39;, &#39;said&#39;]

0.607 AITA for buying SO&#39;s Father&#39;s Home and Then Flipping it?

0.5897 AITA for refusing to pay for my boyfriend&#39;s new glasses?

0.5655 AITA for refusing to share my extra income with my wife when she didn&#39;t share hers with me when she earned more?

0.5598 AITA for having the electricity shut off to our apartment, after my roommates didn&#39;t pay their shares of the bill?

0.5193 AITA for not paying my roommate half of the winnings of a scratch off we “split” the cost of

0.5138 AITA for spending my Sons lottery winnings money?

0.5131 AITA for using a gift card I received on something other than what it was intended for?
</pre></div>
</div>
</div>
</div>
<p><strong>Topic 8 Label</strong>:</p>
<p>Money Problems (Double-click this cell to enter your own label)</p>
</div>
<div class="section" id="display-topic-words-in-context-of-original-text">
<h2>Display Topic Words in Context of Original Text<a class="headerlink" href="#display-topic-words-in-context-of-original-text" title="Permalink to this headline">¶</a></h2>
<p>Often it’s useful to actually look at the document that has ranked highly for a given topic and puzzle out why it ranks so highly.</p>
<p>To display the original Reddit post texts that rank highly for a given topic, with the relevant topic words <strong>bolded</strong> for emphasis, we are going to make the function <code class="docutils literal notranslate"><span class="pre">display_bolded_topic_words_in_context()</span></code>.</p>
<p>In the cell below, we’re importing two special Jupyter notebook display modules, which will allow us to make the relevant topic words <strong>bolded</strong>, as well as the regular expressions library <code class="docutils literal notranslate"><span class="pre">re</span></code>, which will allow us to find and replace the correct words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">display</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">display_bolded_topic_words_in_context</span><span class="p">(</span><span class="n">topic_number</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number_of_documents</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">custom_words</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">for</span> <span class="n">probability</span><span class="p">,</span> <span class="n">document</span> <span class="ow">in</span> <span class="n">little_mallet_wrapper</span><span class="o">.</span><span class="n">get_top_docs</span><span class="p">(</span><span class="n">training_data</span><span class="p">,</span> <span class="n">topic_distributions</span><span class="p">,</span> <span class="n">topic_number</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">number_of_documents</span><span class="p">):</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✨Topic </span><span class="si">{</span><span class="n">topic_number</span><span class="si">}</span><span class="s2">✨</span><span class="se">\n\n</span><span class="si">{</span><span class="n">topics</span><span class="p">[</span><span class="n">topic_number</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="n">probability</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;✨✨✨</span><span class="se">\n\n</span><span class="s2">**</span><span class="si">{</span><span class="n">probability</span><span class="si">}</span><span class="s2">**&quot;</span>
        <span class="n">reddit_title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">training_data_reddit_titles</span><span class="p">[</span><span class="n">document</span><span class="p">]</span><span class="si">}</span><span class="s2">**&quot;</span>
        <span class="n">original_text</span> <span class="o">=</span> <span class="n">training_data_original_text</span><span class="p">[</span><span class="n">document</span><span class="p">]</span>
        <span class="n">topic_words</span> <span class="o">=</span> <span class="n">topics</span><span class="p">[</span><span class="n">topic_number</span><span class="p">]</span>
        <span class="n">topic_words</span> <span class="o">=</span> <span class="n">custom_words</span> <span class="k">if</span> <span class="n">custom_words</span> <span class="o">!=</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">topic_words</span>

        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">topic_words</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">original_text</span><span class="p">:</span>
                <span class="n">original_text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">b</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="se">\\</span><span class="s2">b&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">**&quot;</span><span class="p">,</span> <span class="n">original_text</span><span class="p">)</span>

        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">probability</span><span class="p">)),</span> <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">reddit_title</span><span class="p">)),</span> <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">original_text</span><span class="p">))</span>
    <span class="k">return</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Topic 3</strong></p>
<p>To display the top 3 original Reddit posts with the highest probability of containing Topic 0 and with relevant topic words bolded, we will run:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display_bolded_topic_words_in_context</span><span class="p">(</span><span class="n">topic_number</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">number_of_documents</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 3✨

[&#39;dog&#39;, &#39;take&#39;, &#39;get&#39;, &#39;told&#39;, &#39;care&#39;, &#39;pain&#39;, &#39;could&#39;, &#39;would&#39;, &#39;cat&#39;, &#39;even&#39;, &#39;hospital&#39;, &#39;got&#39;, &#39;dogs&#39;, &#39;health&#39;, &#39;doctor&#39;, &#39;one&#39;, &#39;removed&#39;, &#39;getting&#39;, &#39;know&#39;, &#39;aita&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.5303030303030303</strong></p>
<p><strong>AITA for causing a scene in the hospital over an IV?</strong></p>
<p>I needed to have a surgery last week. I <strong>told</strong> my surgeon I have a fear of needles and he <strong>told</strong> me he <strong>would</strong> write a note to <strong>get</strong> me a lidocaine shot. Yes it’s a shot but it’s not <strong>getting</strong> a fat needle stuck in me. It reduces the <strong>pain</strong> of the IV needle by 99%. Anyways I went to my pre op testing and <strong>told</strong> them I was afraid of needles. They also made a note to give me a lidocaine shot before <strong>getting</strong> the IV. I <strong>get</strong> to the <strong>hospital</strong> and the nurses already knew about the lidocaine shot. Well I <strong>got</strong> this cranky nurse who was in a bad mood. I usually joke around with nurses to ease my fears but she wasn’t taking it. She’s going solo with my IV and I asked her about the lidocaine shot and she <strong>told</strong> me I’m too old to <strong>get</strong> a lidocaine shot. She was about to stick in the giant ass IV with no numbing medication.</p>
<p>She tried to grab my arm but I wasn’t having it. She wasn’t the nicest person.  I <strong>got</strong> up out of my bed and <strong>told</strong> the other nurses about my lidocaine shot. I was in my gown and disconnected my leads. They finally gave me my lidocaine shot and I felt no <strong>pain</strong> when the IV went in.</p>
<p>I feel like a jerk for being extra like that but I hate needles and forever will.</p>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 3✨

[&#39;dog&#39;, &#39;take&#39;, &#39;get&#39;, &#39;told&#39;, &#39;care&#39;, &#39;pain&#39;, &#39;could&#39;, &#39;would&#39;, &#39;cat&#39;, &#39;even&#39;, &#39;hospital&#39;, &#39;got&#39;, &#39;dogs&#39;, &#39;health&#39;, &#39;doctor&#39;, &#39;one&#39;, &#39;removed&#39;, &#39;getting&#39;, &#39;know&#39;, &#39;aita&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.440251572327044</strong></p>
<p><strong>AITA for walking my cat on a trail frequented by dogs?</strong></p>
<p>I live in a condo building and letting my <strong>cat</strong> out is not an option, so he is trained to go for walks on a leash. We like to go to trail near the woods to he can roll in the tall grass and climb trees. He has no issues with <strong>dogs</strong>, but <strong>dogs</strong> will growl at him. He does not <strong>care</strong>, but I can tell it pisses the <strong>dog</strong> owners off. I figure we have just as much right to be there as them. I <strong>get</strong> the whole <strong>dogs</strong> chase cats thing, but Bubba shouldn’t suffer just because you can’t control your <strong>dog</strong>. Cat tax https://i.imgur.com/IyMKfbQ.jpg</p>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 3✨

[&#39;dog&#39;, &#39;take&#39;, &#39;get&#39;, &#39;told&#39;, &#39;care&#39;, &#39;pain&#39;, &#39;could&#39;, &#39;would&#39;, &#39;cat&#39;, &#39;even&#39;, &#39;hospital&#39;, &#39;got&#39;, &#39;dogs&#39;, &#39;health&#39;, &#39;doctor&#39;, &#39;one&#39;, &#39;removed&#39;, &#39;getting&#39;, &#39;know&#39;, &#39;aita&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.41854636591478694</strong></p>
<p><strong>WIBTA If I put my dog to sleep when my family goes on vacation?</strong></p>
<p>Our <strong>dog</strong>, who is a pug and is 12 years old, was diagnosed with a malignant sarcoma on his upper gum about 5 months ago. We visited 5 vets; all have <strong>told</strong> us that while they can perform surgery and de-bulk the tumor, the tumor will grow back. Chemo is around $450 a month, FOR THE REST OF HIS LIFE. Surgery <strong>would</strong> be $1500 - $4500. Every vet has strongly suggested that we humanely euthanize him sooner than later. We reached out to a traveling vet that euthanizes pets at home. He specifically <strong>told</strong> us that we should think about our <strong>dog</strong>’s quality of life and to also think about the mental anguish that he will specifically face when he euthanizes a <strong>dog</strong> in agonizing <strong>pain</strong>.</p>
<p>With all that being said, we started giving him RSO, THC and CBD versions along with gabapentin, tramadol, and prednisone. One of the cannabis products we give him is CBD companion, which is bacon flavored CBD oil that comes with an eye dropper. The vet has also been gracious to give us 90 day supplies of medications.</p>
<p>My wife and I agreed that our <strong>dog</strong> <strong>would</strong> let us <strong>know</strong> when it was time for him to pass. Before his diagnoses, we planned to visit family out of country, me for 2 weeks and her for 2 months with the kids. I cancelled my trip to <strong>take</strong> <strong>care</strong> of our <strong>dog</strong> at the request of her a month or so after his diagnoses. Everything was going well, until about a month ago.</p>
<p>He stopped taking his pill pockets with his medicine and all but refused to eat. He is constantly panting from <strong>pain</strong> and does not lie down except when he is exhausted from standing all day due to the <strong>pain</strong>. He can barely walk up the stairs, and if I try to pick him up he yelps in <strong>pain</strong>. He has lost a lot of weight. The smell alone from the necrotic flesh is nauseating and it is everywhere in the house, Febreeze only works so much. The carpet continually has new stains where he finally lays down that I clean up.</p>
<p>My wife insisted that we continue to give him his medication, so I started compounding his medication with the bacon oil. That's right, I crush his prednisone pill up, empty the gabapentin capsule, add 3 drops of RSO (I combined the CBD and THC RSO's), with .75 ml of bacon CBD oil. I mix it up together, and then suck it all up in the eye dropper. We then squirt the medicine in his mouth and make him swallow it. We do not give Tramadol this way.</p>
<p>They leave to visit family in less than two weeks. I have tried talking with her about euthanizing him before they go, to let her say good bye, but she refuses. She fully expects him to be alive when they return in August with visiting family. She continually tells me that I am being negative and that if I was more positive that he <strong>would</strong> feel that and <strong>get</strong> better, she has specifically said that she is hoping for a miracle.</p>
<p>I wanted to say good bye 4 months ago, when he <strong>could</strong> still go to the <strong>dog</strong> park, when he <strong>could</strong> still eat a meal without being in tremendous <strong>pain</strong>, when he <strong>could</strong> sleep through the night. WIBTA if I put my <strong>dog</strong> to sleep soon after they go on vacation?</p>
</div>
</div>
<p><strong>Topic 8</strong></p>
<p>To display the top 3 original Reddit posts with the highest probability of containing Topic 8 and with relevant topic words bolded, we will run:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display_bolded_topic_words_in_context</span><span class="p">(</span><span class="n">topic_number</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">number_of_documents</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 14✨

[&#39;room&#39;, &#39;house&#39;, &#39;home&#39;, &#39;back&#39;, &#39;time&#39;, &#39;get&#39;, &#39;sleep&#39;, &#39;door&#39;, &#39;work&#39;, &#39;bed&#39;, &#39;night&#39;, &#39;live&#39;, &#39;one&#39;, &#39;use&#39;, &#39;bathroom&#39;, &#39;morning&#39;, &#39;leave&#39;, &#39;stuff&#39;, &#39;apartment&#39;, &#39;told&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.6293532338308457</strong></p>
<p><strong>AITA for my morning alarm(s)?</strong></p>
<p>Hello all, very intrigued as to opinions on the following:</p>
<p>&amp;#x200B;</p>
<p>I am a heavy sleeper, and I mean a HEAVY sleeper. Because of this my first alarm wakes me up 3.5 hours before my shift at <strong>work</strong> starts, and in case I don't wake up I have alarms every 30 minutes to periodically wake me up and ensure I don't go <strong>back</strong> to <strong>sleep</strong>/oversleep etc so I can <strong>get</strong> to <strong>work</strong> on <strong>time</strong> every day.</p>
<p>&amp;#x200B;</p>
<p>Lately the person who lives in the <strong>apartment</strong> below me has been banging on the wall/ceiling when my alarm goes off, which I'm guessing is because it goes off at 5.30am.</p>
<p>&amp;#x200B;</p>
<p>This <strong>morning</strong>, my alarm went off at 5.30am and there was no banging, but I was too tired to <strong>get</strong> up and slapped the snooze button. 5.40am the alarm finishes it's snooze cycle and goes off again, at which point I turn it off.</p>
<p>&amp;#x200B;</p>
<p>5.45am I hear loud banging on my <strong>apartment</strong> <strong>door</strong>, very aggressive and continuous banging. I would describe it as &quot;open the damn <strong>door</strong>&quot; knocking. I ignore it because I'm too tired to deal with confrontation and I don't want to end up in a shouting match that wakes up the rest of the residents. Then they go downstairs outside the building, and start pressing the buzzer for my <strong>apartment</strong> and just holding it so it's a constantly buzzing. Then I unplug the receiver and the noise stopped.</p>
<p>&amp;#x200B;</p>
<p>I have emailed my building manager to advise of the situation and for them to suggest the best course of action moving forward, but I have the following questions:</p>
<p>&amp;#x200B;</p>
<ol class="simple">
<li><p>Am I the asshole because my alarm is too early?</p></li>
<li><p>Am I the asshole if I'm a heavy sleeper and require 3/4 alarms over a 2 hour period to wake me up?</p></li>
<li><p>What actions would you take in response to the actions of my neighbour?</p></li>
</ol>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 14✨

[&#39;room&#39;, &#39;house&#39;, &#39;home&#39;, &#39;back&#39;, &#39;time&#39;, &#39;get&#39;, &#39;sleep&#39;, &#39;door&#39;, &#39;work&#39;, &#39;bed&#39;, &#39;night&#39;, &#39;live&#39;, &#39;one&#39;, &#39;use&#39;, &#39;bathroom&#39;, &#39;morning&#39;, &#39;leave&#39;, &#39;stuff&#39;, &#39;apartment&#39;, &#39;told&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.5771604938271605</strong></p>
<p><strong>AITA for refusing to eat my GF cooking because her cats litter is disgusting?</strong></p>
<p>My GF has two cats. When we got to her place tonight I helped her clean up a bit. I threw some trash away, swept her floors. I was going to do the dishes but her cats litter boxes are in the kitchen and they STINK. I mean, the litter is pilled up with cat shit and piss. It’s disgusting and the smell is horrid. I wanted to clean up while she cooks but I refuse to clean her cats litter boxes. It looks like a mountain of shit and piss.</p>
<p>I clean her kitten litter box sometimes because I can’t stand the smell but I don’t touch the adult cats box. I asked her if she could clean the boxes because they stink. She proceeds to clean the rest of the <strong>house</strong> except for the litter.</p>
<p>She starts cooking dinner and I tell her “I don’t have an appetite you can put the left overs in the fridge” she thinks I’m being dramatic about the smell and whenever I suggest she cleans the litter she gets all pissy, frustrated and walks off</p>
<p>I just don’t have an appetite to eat food that’s prepared in a kitchen with mounds of poop and piss sitting in the box smelling up the <strong>house</strong>.</p>
<p>So am I just being a dramatic asshole about not eating my GF cooking because of the nasty litter boxes?</p>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 14✨

[&#39;room&#39;, &#39;house&#39;, &#39;home&#39;, &#39;back&#39;, &#39;time&#39;, &#39;get&#39;, &#39;sleep&#39;, &#39;door&#39;, &#39;work&#39;, &#39;bed&#39;, &#39;night&#39;, &#39;live&#39;, &#39;one&#39;, &#39;use&#39;, &#39;bathroom&#39;, &#39;morning&#39;, &#39;leave&#39;, &#39;stuff&#39;, &#39;apartment&#39;, &#39;told&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.5691056910569106</strong></p>
<p><strong>AITA for shutting off the power to my neighbor's apartment to stop the sound of loud pornography?</strong></p>
<p>I <strong>live</strong> in a building where the breaker box is at the entrance of my building. My <strong>door</strong> is on <strong>one</strong> side of the breaker box, my neighbor's <strong>door</strong> on the other. My son was over (he's 10 and I see him on weekends because his mom has him during the week) and my neighbor (a man in his 40s) was blasting porn on his TV.  We were trying to play guitar together and then I just had it: I went to the breaker box and turned the power to his <strong>apartment</strong> off and then on again. This reset his WIFI and TV. There was no more loud porn after that.</p>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 14✨

[&#39;room&#39;, &#39;house&#39;, &#39;home&#39;, &#39;back&#39;, &#39;time&#39;, &#39;get&#39;, &#39;sleep&#39;, &#39;door&#39;, &#39;work&#39;, &#39;bed&#39;, &#39;night&#39;, &#39;live&#39;, &#39;one&#39;, &#39;use&#39;, &#39;bathroom&#39;, &#39;morning&#39;, &#39;leave&#39;, &#39;stuff&#39;, &#39;apartment&#39;, &#39;told&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.5566188197767145</strong></p>
<p><strong>WIBTA if I told my roommate his girlfriend is getting too comfortable in our home?</strong></p>
<p>I <strong>live</strong> with <strong>one</strong> roommate and I have a cat. We have a two bedroom, <strong>one</strong> bath <strong>home</strong> that we split everything evenly on. Half rent, half utilities, half <strong>bathroom</strong> space. The bedrooms are also directly next to <strong>one</strong> another. His bedroom <strong>door</strong> cannot be closed all the way due to the frame being slightly too small, so if you close it all the way it's going to be areal bitch to open again. I never close my <strong>door</strong> all the way because my cat always sleeps with me, but her food and litter box are outside of my <strong>room</strong> so our doors typically stay open all the <strong>time</strong>. This isn't really ever a problem with us. I've never been awaken by him and he's never been awaken by me. However, when his girlfriend comes over I'm awoken at around 9am EVERY <strong>morning</strong>. Due to my <strong>work</strong> schedule I don't <strong>get</strong> up until noon and usually go to <strong>sleep</strong> around 5am. She's here every Friday-Monday so basically all those mornings I <strong>get</strong> woken up by her shouting from the <strong>bathroom</strong> to my roommate in his <strong>room</strong>. Or from the kitchen. Sometimes she talks directly in front of my <strong>door</strong> at full volume to my roommate when he's in his <strong>room</strong>.</p>
<p>Then there's the <strong>bathroom</strong> issue. Every weekend our <strong>bathroom</strong> becomes more and more populated with her <strong>stuff</strong>. I often find my <strong>stuff</strong> completely moved from where I put it. Sometimes it's moved from inside cabinets to on top of cabinets. I should mention our <strong>bathroom</strong> is small. We have two shelves that my roommate and I decided he gets <strong>one</strong>, I <strong>get</strong> the other. Where is her <strong>stuff</strong>? She has an entire shelf all to her self with some of her <strong>stuff</strong> now on my shared shelf with my roommate. Was I asked how I felt about this or if it was okay with me? Nope. She also has an ungodly amount of body washes, shampoos, conditioners, other shit I'm not even sure what their purpose is all in the tub. We don't even have shelf space for it, so what do they do? Move my shit to the floor so I have to reach out of the shower to <strong>get</strong> my shampoo.</p>
<p>I think she's too comfortable. She's not on the lease but acts as if she pays rent. I'm tired of being tired on the weekends and I'm tired of searching through shit to find my shit to move it <strong>back</strong> to it's place just to have someone move it again. I'm going to tell my roommate she needs to keep her <strong>stuff</strong> in his <strong>room</strong> or they can go to her place and then she can make all the noise she wants whenever she wants. I guess I'm asking if I WIBTA to gauge what I'm going to have to deal with this weekend.</p>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✨Topic 14✨

[&#39;room&#39;, &#39;house&#39;, &#39;home&#39;, &#39;back&#39;, &#39;time&#39;, &#39;get&#39;, &#39;sleep&#39;, &#39;door&#39;, &#39;work&#39;, &#39;bed&#39;, &#39;night&#39;, &#39;live&#39;, &#39;one&#39;, &#39;use&#39;, &#39;bathroom&#39;, &#39;morning&#39;, &#39;leave&#39;, &#39;stuff&#39;, &#39;apartment&#39;, &#39;told&#39;]
</pre></div>
</div>
<p>✨✨✨</p>
<p><strong>0.5494791666666666</strong></p>
<p><strong>AITA for confining my husband to one bathroom in our house?</strong></p>
<p>So this is totally TMI, but this has been an ongoing thing for our entire marriage. Basically, my husband is the messiest <strong>bathroom</strong> user I've ever seen. He leaves pee and shit streaks on the seat, his shit splatters the bowl every <strong>time</strong> he uses it, and he leaves little pieces of toilet paper all over the floor. It's disgusting.
For the first 3 years of our marriage we lived in places with only <strong>one</strong> <strong>bathroom</strong>. I would beg him to clean up after himself, but most of the <strong>time</strong> he said he didn't see anything wrong. I ended up cleaning the <strong>bathroom</strong> almost every other day. When we bought our <strong>house</strong> it somehow got even worse, so by then I had had enough. I <strong>told</strong> him he could <strong>use</strong> the toilet in the master <strong>bathroom</strong>, and I would <strong>use</strong> the <strong>one</strong> by the guest rooms.
This has worked out well for the most part. I keep my <strong>bathroom</strong> clean, and I don't step foot in the toilet <strong>room</strong> in our master <strong>bathroom</strong>. I never clean it. I don't even keep tampons in there anymore.
Despite this arrangement, my husband sometimes still uses MY <strong>bathroom</strong>, and it makes me irritated. He says that sometimes it just more convenient to <strong>use</strong> that <strong>bathroom</strong>, and that it's his <strong>house</strong> too, so he should be able to go where he wants. My thought is that since he has chased me out of the <strong>bathroom</strong> connected to our bedroom, and that I have to walk across the <strong>house</strong> to pee at <strong>night</strong>, then he can at least respect my <strong>bathroom</strong> and go <strong>use</strong> the other <strong>one</strong>. AITA?</p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./05-Text-Analysis"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="07-Topic-Modeling-Text-Files.html" title="previous page">Topic Modeling — Text Files</a>
    <a class='right-next' id="next-link" href="09-Topic-Modeling-Time-Series.html" title="next page">Topic Modeling — Time Series</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By <a href="https://melaniewalsh.org/">Melanie Walsh</a><br/>
        
            &copy; Copyright 2021.<br/>
          <div class="extra_footer">
            <div>
<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> This book is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>. The code is licensed under a <a href="https://choosealicense.com/licenses/gpl-3.0/#">GNU General Public License v3.0</a>.
</div>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-86905362-3', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>